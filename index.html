<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="theme-color" content="#1a1a1a">
    <title>Proto API Documentation</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="apple-touch-icon" href="favicon-32x32.png">
    
    <!-- Swagger UI CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swagger-ui-dist@5.10.5/swagger-ui.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="header">
        <h1>Proto API Documentation</h1>
        <p>Complete Control and Monitoring Interface for Professional Mining Operations</p>
        <span class="version">v1.4.1</span>
    </header>

    <main class="main-content">
        <section class="features">
            <div class="feature-card">
                <h3>Mining Control</h3>
                <p>Start, stop, and configure mining operations with precise power target control.</p>
            </div>
            <div class="feature-card">
                <h3>Real-time Monitoring</h3>
                <p>Track hashrate, temperature, and power consumption across all hashboards.</p>
            </div>
            <div class="feature-card">
                <h3>Pool Management</h3>
                <p>Configure and manage multiple mining pools with automatic failover support.</p>
            </div>
        </section>

        <section class="api-docs">
            <div id="swagger-ui"></div>
        </section>
    </main>

    <footer>
        <p>Contact: mining.support@block.xyz</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/swagger-ui-dist@5.10.5/swagger-ui-bundle.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swagger-ui-dist@5.10.5/swagger-ui-standalone-preset.js"></script>
    <script>
    window.onload = function() {
        console.log('Initializing Swagger UI with Try It Out enabled...');
        
        // Initialize SwaggerUI
        const ui = SwaggerUIBundle({
            url: "spec.json",
            dom_id: '#swagger-ui',
            deepLinking: true,
            presets: [
                SwaggerUIBundle.presets.apis,
                SwaggerUIStandalonePreset
            ],
            plugins: [
                SwaggerUIBundle.plugins.DownloadUrl
            ],
            layout: "StandaloneLayout",
            docExpansion: "list",
            defaultModelsExpandDepth: 1,
            defaultModelExpandDepth: 1,
            displayRequestDuration: true,
            filter: true,
            showExtensions: true,
            showCommonExtensions: true,
            tryItOutEnabled: true,
            persistAuthorization: true,
            displayOperationId: false,
            defaultModelRendering: "model",
            showMutatedRequest: true,
            supportedSubmitMethods: [
                "get", "put", "post", "delete", "options", "head", "patch", "trace"
            ],
            validatorUrl: null
        });
        window.ui = ui;
    };
    
    // Add touch-friendly interactions
    if ('ontouchstart' in window) {
        document.body.classList.add('touch-device');
    }
    
    // Prevent double-tap zoom on buttons
    document.addEventListener('touchend', function(e) {
        if (e.target.tagName === 'BUTTON' || e.target.classList.contains('btn')) {
            e.preventDefault();
            e.target.click();
        }
    });
    </script>
</body>
</html>
